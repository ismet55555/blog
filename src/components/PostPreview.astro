---
const {
  url,
  title,
  description,
  pubDate,
  minutesRead,
  isTech = true
} = Astro.props

const formattedDate = pubDate.toLocaleDateString('en-US', {
  weekday: 'short',
  month: 'short',
  day: 'numeric',
  year: 'numeric'
})

// Dynamic classes based on tech flag
const borderClass = isTech ? 'border-techAccent' : 'border-nonTechAccent'
const titleClass = isTech ? 'text-techAccent' : 'text-nonTechAccent'
const bgHoverClass = isTech
  ? 'hover:bg-green-100 dark:hover:bg-gray-800'
  : 'hover:bg-orange-100 dark:hover:bg-gray-800'
const accentBgClass = isTech ? 'bg-techAccent' : 'bg-nonTechAccent'
---

<!-- Preview on the list of blog posts -->
<a
  href={`/blog/${url}`}
  class={`mb-[30px] block border p-6 drop-shadow-[4px_6px_12px_rgba(0,0,0,0.6)] transition-all duration-500 last:mb-0 hover:-translate-y-1 dark:border-gray-500 ${borderClass} ${bgHoverClass}`}
>
  <div class="w-full">
    <h2
      transition:name={`${title}-${pubDate}`}
      class={`text-2xl font-bold font-medium w500:text-lg ${titleClass}`}
    >
      {title}
    </h2>
    <span
      class={`relative bottom-0.5 block h-0.5 max-w-0 transition-all duration-300 group-hover:max-w-full ${accentBgClass}`}
    ></span>
  </div>
  <p
    class="mb-5 mt-2.5 leading-relaxed tracking-wide w500:text-sm w500:leading-[2.2]"
  >
    {description}
  </p>
  <div class="flex w-max items-center">
    <svg
      xmlns="http://www.w3.org/2000/svg"
      class="mr-3 h-4 w-4 w500:h-3 w500:w-3"
      viewBox="-0.5 0 15 15"
    >
      <path
        class="fill-gray-600 dark:fill-gray-600"
        fill-rule="evenodd"
        d="M61,154.006845 C61,153.45078 61.4499488,153 62.0068455,153 L73.9931545,153 C74.5492199,153 75,153.449949 75,154.006845 L75,165.993155 C75,166.54922 74.5500512,167 73.9931545,167 L62.0068455,167 C61.4507801,167 61,166.550051 61,165.993155 L61,154.006845 Z M62,157 L74,157 L74,166 L62,166 L62,157 Z M64,152.5 C64,152.223858 64.214035,152 64.5046844,152 L65.4953156,152 C65.7740451,152 66,152.231934 66,152.5 L66,153 L64,153 L64,152.5 Z M70,152.5 C70,152.223858 70.214035,152 70.5046844,152 L71.4953156,152 C71.7740451,152 72,152.231934 72,152.5 L72,153 L70,153 L70,152.5 Z"
        transform="translate(-61 -152)"></path>
    </svg>
    <p class="text-sm leading-5 tracking-wide text-gray-400 w500:text-xs">
      {formattedDate}
    </p>
    <span class="mx-2 text-gray-400">|</span>
    <p class="text-sm leading-5 tracking-wide text-gray-400 w500:text-xs">
      {minutesRead}
    </p>
  </div>
</a>
